<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>Test Array Animation</title>
    <script type="text/javascript" data-main="../../app/api/app.js" src="../../app/api/libs/require.js       "></script>
    <script type="text/javascript">
        function animate() {
            require(["core/jsav","core/Defaults","core/Constants", "core/Utils"], function (jsav,Defaults,Constants,Utils) {
                var code = document.getElementById("codeAreaId").value;
                var configs = {};
                configs[Constants.STAGE_CONTAINERDIV] = "jsavContainer";
                configs[Constants.STAGE_WIDTH] = 500;
                configs[Constants.STAGE_HEIGHT] = 500;

                animationId = jsav.createAnimator(configs);
                code = Utils.getHeaderCode(animationId) + code + Utils.getFooterCode();
                console.log("code = " + code.toString());

                jsav.runCodeAndAnimate(animationId, code);
            });
        }

        function animate2() {
            require(["core/jsav","core/Defaults","core/Constants", "core/Utils"], function (jsav,Defaults,Constants,Utils) {
                var code = document.getElementById("codeAreaId2").value;
                var configs = {};
//                configs[Constants.ANIMATION_UNIT_TIME] = 1000;
                configs[Constants.STAGE_CONTAINERDIV] = "jsavContainer";
                configs[Constants.STAGE_WIDTH] = 500;
                configs[Constants.STAGE_HEIGHT] = 500;

                animationId = jsav.createAnimator(configs);
                console.log("code = " + code.toString());

                jsav.generateCodeAnimation(animationId, code);
            });
        }
    </script>

</head>
<body>
<div id="jsavContainer"></div>
<textarea hidden="true" rows="25" cols="50" id="codeAreaId">
    (function(){
    var array = new ArrayDS(10);
    for(x = 0 ; x < 10 ; x++){
        array.set(x,x);
    }
    for(x =0 ; x < 5 ;x++){
        array.at(x);
    }

    array.set(9,100);
    }());
</textarea>
<textarea rows="25" cols="50" id="codeAreaId2"></textarea>
<input type="button" onclick="animate2()" value="Test Animate"/>
<!--<input type="button" onclick="animate()" value="Test Animate"/>-->
<!--<input type="button" onclick="reset()" value="Reset Animation"/>-->
</body>
</html>